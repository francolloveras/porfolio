---
import Language from '@/icons/Language.astro'
import DarkMode from '@/icons/DarkMode.astro'
---

<nav
  class="flex mx-auto w-fit items-center sticky gap-4 top-2 text-neutral-300 transition-all border border-transparent px-8 py-2 mt-2 rounded-full"
>
  <a href="#experience" class="hover:text-red-400 transition-colors">Experience</a>
  <a href="#projects" class="hover:text-red-400 transition-colors">Projects</a>
  <a href="#contact" class="hover:text-red-400 transition-colors">Contact</a>
  <a href="/today-i-learned" class="hover:text-red-400 transition-colors">Blog</a>
  <button class="size-[20px] hover:text-red-400 transition-colors">
    <DarkMode />
  </button>
  <button class="size-[20px] hover:text-red-400 transition-colors">
    <Language />
  </button>
</nav>

<script>
  const scrollThreshold = 50

  window.addEventListener('scroll', () => {
    const $nav = document.querySelector('nav')

    const classedToAdd = ['bg-neutral-900', 'shadow-lg', 'border-neutral-800']
    const classedToRemove = ['bg-transparent', 'border-transparent']

    if (window.scrollY > scrollThreshold) {
      $nav?.classList.add(...classedToAdd)
      $nav?.classList.remove(...classedToRemove)
    } else {
      $nav?.classList.add(...classedToRemove)
      $nav?.classList.remove(...classedToAdd)
    }
  })
</script>
